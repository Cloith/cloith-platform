[defaults]
# Use the YAML callback for prettier output
stdout_callback = default
result_format = yaml
# use inventory for list of ip
inventory = ./inventory.ini
# Tell Ansible not to worry about host keys since Tailscale handles identity
host_key_checking = False

[ssh_connection]
# This tells Ansible to use the system's 'ssh' command which knows about Tailscale
# ProxyCommand: Routes the SSH connection through the Tailscale SOCKS5 proxy at localhost:1055
ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o ProxyCommand="tailscale nc %h %p"